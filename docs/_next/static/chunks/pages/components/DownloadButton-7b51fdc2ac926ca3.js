(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[21],{1321:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/DownloadButton",function(){return n(7557)}])},6236:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});let o=e=>{let t=null==e?void 0:e.trim();return"".concat(t?"".concat(t,"님,\n"):"").concat("2025학년도 상명대학교 디자인대학 커뮤니케이션디자인전공 졸업전시회에 초대합니다!\n\n2025.11.14(금)-11.18(화)\n더 서울라이티움 제1전시장\n금요일 17:00 - 19:00\n토-화요일 11:00 - 19:00")}},7557:function(e,t,n){"use strict";n.r(t);var o=n(5893),r=n(7294),i=n(6236);t.default=e=>{let{from:t,to:n,canvasRef:l,onReset:a}=e,[c,u]=(0,r.useState)(!1),s=(0,r.useRef)(null),d=async()=>{let e=l.current;if(!e)return;u(!0);let o=t.trim(),r=n.trim(),a="invitation-from-".concat(encodeURIComponent(o||"unknown"),"-to-").concat(encodeURIComponent(r||"guest"),".png");try{let t,n=null,l=null;if(e.toBlob&&(n=await new Promise(t=>e.toBlob(t,"image/png"))),!n){let t=e.toDataURL("image/png");l=t;let o=t.indexOf(","),r=o>-1?t.slice(5,t.indexOf(";")):"image/png",i=atob(o>-1?t.slice(o+1):t),a=new ArrayBuffer(i.length),c=new Uint8Array(a);for(let e=0;e<i.length;e+=1)c[e]=i.charCodeAt(e);n=new Blob([c],{type:r})}if(!n)throw Error("초대장 이미지를 생성하지 못했습니다.");let u="undefined"!=typeof navigator?navigator:void 0,d="undefined"!=typeof navigator?navigator.userAgent:"",f=/iP(ad|hone|od)/i.test(d),h=/Android/i.test(d),w=(0,i.P)(r),p={title:o?"".concat(o,"의 초대장"):"초대장",text:w};if("undefined"!=typeof File)try{p.files=[new File([n],a,{type:"image/png"})]}catch(e){}let m=!!(null==u?void 0:u.share),y=(()=>{var e;if(!m||!u||!(null===(e=p.files)||void 0===e?void 0:e.length))return!1;if("function"!=typeof u.canShare)return!0;try{return u.canShare({files:p.files})}catch(e){return!1}})(),b=async e=>{if(!(null==u?void 0:u.share))return!1;try{return await u.share(e),!0}catch(e){return console.warn("초대장 공유에 실패했습니다.",e),!1}},v=!1;if(m&&(f||h)&&(null==u?void 0:u.share)&&(p.files&&y&&(v=await b(p)),!v)){var c;let e={title:p.title,text:null!==(c=p.text)&&void 0!==c?c:(0,i.P)()};v=await b(e)}let g=l;if(!g){let e=URL.createObjectURL(n);g=e,t=()=>URL.revokeObjectURL(e)}if(v){null==t||t();return}((e,t)=>{let n=s.current,o=null!=n?n:document.createElement("a"),r=!n;o.href=e,o.download=a,r&&(o.style.display="none",document.body.appendChild(o)),o.click(),window.requestAnimationFrame(()=>{o.removeAttribute("href"),o.removeAttribute("download"),null==t||t(),r&&o.remove()})})(g,t)}catch(e){console.error(e),window.alert("초대장을 저장하지 못했습니다. 다시 시도해 주세요.")}finally{u(!1)}};return(0,o.jsxs)("div",{className:"download-actions",children:[(0,o.jsx)("button",{className:"btn btn-save".concat(c?" btn-disabled":""),type:"button",disabled:c,onClick:d,children:c?"저장 중...":"저장하기"}),(0,o.jsx)("button",{className:"btn btn-retry",type:"button",onClick:()=>{u(!1),a()},children:"다시하기"}),(0,o.jsx)("a",{ref:s,style:{display:"none"}})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=1321)}),_N_E=e.O()}]);